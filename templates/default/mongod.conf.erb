# Generated by Chef - manual changes made will be lost!

# Connectivity
port = <%= @port %>
<% if not @bind_ip.empty? %>bind_ip = <%= @bind_ip %><% end %>

# Paths
dbpath = <%= @db_path %>

# Logging
<% if node['mongodb']['syslog'] == true %>
syslog = true
<% else %>
logpath = <%= node['mongodb']['log_dir'] %>/<%= @instance_name %>/<%= @instance_name %>.log
logappend = <%= node['mongodb']['log_append'] %>
<% end %>
<% if node['mongodb']['log_cpu'] %>cpu = <%= node['mongodb']['log_cpu'] %><% end %>
<% if node['mongodb']['log_verbose'] %>verbose = <%= node['mongodb']['log_verbose'] %><% end %>
quiet = <%= node['mongodb']['log_quiet'] %>

# Journal
journal = <%= node['mongodb']['journal'] %>
journalCommitInterval = <%= node['mongodb']['journal_commit_interval'] %>

# Misc.
<% unless node['mongodb']['http_enabled'] %>nohttpinterface = true<% end %>
<% if node['mongodb']['rest_enabled'] %>rest = true<% end %>
<% if node['mongodb']['small_files'] %>smallfiles = true<% end %>
<% unless node['mongodb']['scripting_enabled'] %>noscripting = true<% end %>
<% unless node['mongodb']['tablescan_enabled'] %>notablescan = true<% end %>
<% unless node['mongodb']['prealloc_enabled'] %>noprealloc = true<% end %>
<% if node['mongodb']['auth_enabled'] %>

# Authentication
auth = true
<% unless node['mongodb']['auth_keyfile'].empty? %>keyFile = <%= node['mongodb']['auth_keyfile'] %><% end %>
<% end %>
<% unless @replica_set.empty? %>

# Replication
replSet = <%= @replica_set %>
oplogSize = <%= node['mongodb']['oplog'] -%>
<% end %>
